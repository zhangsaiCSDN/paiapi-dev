<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link href="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/axios/0.19.0/axios.min.js"></script>
<script src="https://cdn.bootcss.com/vue/2.6.10/vue.min.js"></script>
<link rel="stylesheet" href="../../layuiadmin/layui/css/layui.css" media="all">
<link rel="stylesheet" href="../../layuiadmin/style/admin.css" media="all">
</head>
<body>

	 <div class="layui-fluid">
    <div class="layui-card">
      <div class="layui-form layui-card-header layuiadmin-card-header-auto">
        <div class="layui-form-item">
          <div class="layui-inline">
            <label class="layui-form-label">文章ID</label>
            <div class="layui-input-inline">
              <input type="text" name="id" placeholder="请输入" autocomplete="off" class="layui-input">
            </div>
          </div>
          <div class="layui-inline">
            <label class="layui-form-label">作者</label>
            <div class="layui-input-inline">
              <input type="text" name="author" placeholder="请输入" autocomplete="off" class="layui-input">
            </div>
          </div>
          <div class="layui-inline">
            <label class="layui-form-label">标题</label>
            <div class="layui-input-inline">
              <input type="text" name="title" placeholder="请输入" autocomplete="off" class="layui-input">
            </div>
          </div>
          <div class="layui-inline">
            <label class="layui-form-label">文章标签</label>
            <div class="layui-input-inline">
              <select name="label">
                <option value="">请选择标签</option>
                <option value="0">美食</option>
                <option value="1">新闻</option>
                <option value="2">八卦</option>
                <option value="3">体育</option>
                <option value="4">音乐</option>
              </select>
            </div>
          </div>
          <div class="layui-inline">
            <button class="layui-btn layuiadmin-btn-list" lay-submit lay-filter="LAY-app-contlist-search">
              <i class="layui-icon layui-icon-search layuiadmin-button-btn"></i>
            </button>
          </div>
        </div>
      </div>

      <div class="layui-card-body">
        <div style="padding-bottom: 10px;">
          <button class="layui-btn layuiadmin-btn-list" data-type="batchdel">删除</button>
          <button @click='add' class="layui-btn layuiadmin-btn-list" data-type="add">添加</button>
        </div>
      </div>
    </div>
  </div>
	
	
	
	
	
	<table id="app" class="table table-hover table-striped table-bordered table-dark">
		<tr>
			<th>订单id</th>
			<th>成交金额</th>
			<th>成交时间</th>
			<th>买家名称</th>
			<th>卖家名称</th>
			<th>手续费</th>
			<th>用户名称</th>
			<th>拍品名称</th>
			<th>地址</th>
			<th>操作</th>
		</tr>
		<tr v-for="order in orders">
			<td>{{order.odid}}</td>
			<td>{{order.odmoney}}</td>
			<td>{{order.odtime}}</td>
			<td>{{order.user.uname}}</td>
			<td>{{order.user.uname}}</td>
			<td>{{order.odfee}}</td>
			<td>{{order.user.uname}}</td>
			<td>{{order.goods.gname}}</td>
			<td>{{order.address.ainfo}}</td>
			<td>
			<button @click='edit(order.odid)' id='update' type='button' class='btn btn-warning'>修改</button>
			<button @click='del(order.odid)' id='update' type='button' class='btn btn-danger'>删除</button>
			</td>
		</tr>
	</table>
</body>
 <script src="../../../layuiadmin/layui/layui.js"></script>  
	<script>
		var vue = new Vue({
			el: "#app",
			data: {
				orders: []
			},
			mounted: function() { //mounted　表示这个 Vue 对象加载成功了
		 		var self = this
				axios.get("http://localhost:8080/orders").then(function(response) {
					self.orders = response.data; //此时还是字符串
					/* self.orders = eval("(" + self.orders + ")"); //字符串转换为数组对象 */
				})
			},
			 
			methods: {
				del(odid) {
					if(!confirm('是否要删除当前数据')){
						return;
	                }
					 this.orders.splice(odid,1);
				},
				
				edit(odid) {
					alert(odid);
				},
				
				add() {
					alert(123);
				}
			}
			
		});
	</script>
</html>