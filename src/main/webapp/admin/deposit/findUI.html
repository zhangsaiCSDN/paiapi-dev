<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../../layuiadmin/layui/css/layui.css"
	media="all">
<link rel="stylesheet" href="../../layuiadmin/style/admin.css"
	media="all">
<script src="https://cdn.bootcss.com/vue/2.6.10/vue.min.js"></script>
<script src="https://cdn.bootcss.com/axios/0.19.0/axios.min.js"></script>
<link href="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
	
	<table id="app" class="table table-hover table-striped table-bordered table-dark" lay-skin="line">
		<thead>
			<tr>
				<th>用户名</th>
				<th>保证金金额</th>
				<th>状态</th>
				<th>所属拍品</th>
				<th>操作</th>
			</tr>
		</thead>
		<tbody>
			<tr v-for="deposit in deposits">
			
				<td>{{deposit.user.uname}}</td>
				<td>{{deposit.dmoney}}</td>
				<td>{{deposit.gstate}}</td>
				<td>{{deposit.goods.gname}}</td>
				<td>
					<button @click='del' type="button" class="btn btn-warning">删除</button>
					<button @click='edit' type="button" class="btn btn-danger">编辑</button>
				</td> 
			</tr>
		</tbody>
	</table>
</body>
<script>
	var vue = new Vue({
		el : "#app",
		data : {
			deposits : []
		},
		mounted : function() { //mounted　表示这个 Vue 对象加载成功了
			var self = this
			axios.get("http://localhost:8080/deposits").then(
					function(response) {
						self.deposits = response.data; //此时还是字符串
						// self.deposits = eval("(" + self.deposits + ")"); //字符串转换为数组对象
						 
			})
		},
		methods:{
			del(){
				
			},
			edit(){}
		}
	});
</script>
</html>